{% extends "base.html" %}
{% block title %}íŒë§¤ì ëŒ€ì‹œë³´ë“œ - MONEYING{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
  
  <a href="javascript:history.back()" class="text-zinc-500 hover:text-white transition text-sm mb-4 inline-block">â† ë’¤ë¡œê°€ê¸°</a>
  <div class="flex items-center justify-between mb-8">
    <div>
      <h1 class="text-3xl font-black">íŒë§¤ì ëŒ€ì‹œë³´ë“œ</h1>
      <p class="text-zinc-400 mt-2">{{ user.seller_company }} Â· {{ user.seller_category }}</p>
    </div>
    <a href="/seller/upload" class="bg-[#a3e635] text-black font-black px-6 py-3 rounded-xl hover:bg-white transition">
      + ì˜ìƒ ì—…ë¡œë“œ
    </a>
  </div>

  <!-- í†µê³„ -->
  <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
    <div class="bg-zinc-900/60 border border-zinc-800 rounded-xl p-5 text-center">
      <div class="text-3xl font-black text-[#a3e635]">{{ posts|length }}</div>
      <div class="text-zinc-500 text-sm mt-1">ë“±ë¡í•œ ì˜ìƒ</div>
    </div>
    <div class="bg-zinc-900/60 border border-zinc-800 rounded-xl p-5 text-center">
      <div class="text-3xl font-black text-white">{{ posts|selectattr('status', 'equalto', 'approved')|list|length }}</div>
      <div class="text-zinc-500 text-sm mt-1">ìŠ¹ì¸ë¨</div>
    </div>
    <div class="bg-zinc-900/60 border border-zinc-800 rounded-xl p-5 text-center">
      <div class="text-3xl font-black text-yellow-400">{{ posts|selectattr('status', 'equalto', 'pending')|list|length }}</div>
      <div class="text-zinc-500 text-sm mt-1">ëŒ€ê¸°ì¤‘</div>
    </div>
    <div class="bg-zinc-900/60 border border-zinc-800 rounded-xl p-5 text-center">
      <div class="text-3xl font-black text-zinc-400">{{ posts|map(attribute='view_count')|sum }}</div>
      <div class="text-zinc-500 text-sm mt-1">ì´ ì¡°íšŒìˆ˜</div>
    </div>
  </div>

  <!-- ë‚´ ì˜ìƒ ëª©ë¡ -->
  <div class="bg-zinc-900/60 border border-zinc-800 rounded-2xl overflow-hidden">
    <div class="px-6 py-4 border-b border-zinc-800 flex items-center justify-between">
      <h2 class="font-bold text-lg">ë‚´ ì˜ìƒ ëª©ë¡</h2>
    </div>
    
    {% if posts|length == 0 %}
      <div class="p-10 text-center">
        <div class="text-4xl mb-4">ğŸ“¹</div>
        <div class="text-zinc-500 font-bold mb-2">ì•„ì§ ë“±ë¡í•œ ì˜ìƒì´ ì—†ìŠµë‹ˆë‹¤</div>
        <p class="text-zinc-600 text-sm mb-6">ì²« ë²ˆì§¸ ì˜ìƒì„ ì—…ë¡œë“œí•´ë³´ì„¸ìš”!</p>
      </div>
    {% else %}
      <div class="divide-y divide-zinc-800/70">
        {% for post in posts %}
          <div class="px-6 py-5 hover:bg-zinc-800/30 transition">
            <div class="flex items-center justify-between gap-4">
              <div class="min-w-0 flex-1">
                <div class="font-bold truncate mb-1">{{ post.title }}</div>
                <div class="flex items-center gap-3 text-zinc-500 text-sm">
                  <span>{{ post.category }}</span>
                  <span>Â·</span>
                  <span>ì¡°íšŒ {{ post.view_count or 0 }}</span>
                  <span>Â·</span>
                  <span>{{ post.created_at.strftime('%Y-%m-%d') }}</span>
                </div>
              </div>
              <div class="shrink-0">
                {% if post.status == 'approved' %}
                  <span class="px-3 py-1 rounded-full bg-green-500/10 text-green-400 border border-green-500/20 text-xs font-bold">ìŠ¹ì¸ë¨</span>
                {% elif post.status == 'pending' %}
                  <span class="px-3 py-1 rounded-full bg-yellow-500/10 text-yellow-400 border border-yellow-500/20 text-xs font-bold">ëŒ€ê¸°ì¤‘</span>
                {% else %}
                  <span class="px-3 py-1 rounded-full bg-red-500/10 text-red-400 border border-red-500/20 text-xs font-bold">ê±°ì ˆë¨</span>
                {% endif %}
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>

</div>
{% endblock %}